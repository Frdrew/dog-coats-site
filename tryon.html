<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Virtual Try-On — Clovis Coats</title>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html">
        <span class="brand-badge">CC</span><span>Clovis Coats</span>
      </a>
      <nav class="nav-links">
        <a href="products.html">Coats</a>
        <a href="tryon.html">Virtual Try-On</a>
        <a href="about.html">Our Story</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="section">
    <div class="container section-title">
      <div>
        <h2 class="reveal">Fit & Style Preview</h2>
        <p class="reveal">Select a dog similar in size to yours to preview fit, proportion, and style.</p>
      </div>
    </div>

    <div class="container tryon-wrap">
      <!-- LEFT: Canvas stage -->
      <section class="panel reveal">
        <div class="panel-head">
          <h3>Try-On Stage</h3>
          <div style="display:flex; gap:.5rem; flex-wrap:wrap;">
            <button class="btn" id="startCam" type="button">Start Camera</button>
            <button class="btn" id="stopCam" type="button">Stop</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="stage">
            <video id="cam" playsinline muted></video>
            <canvas id="canvas"></canvas>
          </div>
          <div class="hint">
            Tip: click/touch and drag the coat. Use sliders to size/rotate.
          </div>
        </div>
      </section>

      <!-- RIGHT: Controls -->
      <aside class="panel reveal">
        <div class="panel-head">
          <h3>Controls</h3>
          <button class="btn" id="reset" type="button">Reset</button>
        </div>

        <div class="panel-body controls">
          <!-- Size/Breed selector (REQUIRED for JS hooks) -->
          <div class="size-selector">
            <p class="selector-title">Choose the dog closest to yours</p>

            <div class="size-grid">
              <button data-size="XS" data-breed="Shih Tzu" class="active" type="button">XS<br><span>Shih Tzu</span></button>
              <button data-size="S" data-breed="Small" type="button">S<br><span>Small</span></button>
              <button data-size="M" data-breed="Medium" type="button">M<br><span>Medium</span></button>
              <button data-size="L" data-breed="Large" type="button">L<br><span>Large</span></button>
              <button data-size="XL" data-breed="XL" type="button">XL<br><span>XL</span></button>
            </div>
			
			<label for="breedSelect">Choose breed</label>
<select id="breedSelect"></select>


            <p class="size-note">
              Breed images are size references. Final fit is refined during custom making.
            </p>
          </div>

          <!-- Dog reference image -->
          <div class="dog-stage">
            <img id="dogImage" alt="Dog size reference" />
          </div>

          <!-- View toggle: MUST match JS (front/left/right) -->
          <div class="view-toggle">
            <button data-view="front" class="active" type="button">Front</button>
            <button data-view="left" type="button">Side</button>
            <button data-view="right" type="button">Back</button>
          </div>

          <!-- Coat style selector -->
          <div class="coat-style-selector">
            <p class="selector-title">Choose a coat style</p>

            <div class="coat-style-grid">
              <button data-style="winter" class="active" type="button">
                <strong>Winter Coat</strong>
                <span>Warm • Insulated • Everyday wear</span>
              </button>

              <button data-style="rain" type="button">
                <strong>Rain Coat</strong>
                <span>Lightweight • Water-resistant</span>
              </button>

              <button data-style="costume" type="button">
                <strong>Seasonal / Costume</strong>
                <span>Holiday • Themed • Custom</span>
              </button>
            </div>

            <p id="styleNote" class="size-note">
              Shown as a representative <strong>Winter Coat</strong>. Final design may vary for custom orders.
            </p>
          </div>

          <!-- Coat overlay selection -->
          <label for="coatSelect">Choose coat overlay</label>
          <select id="coatSelect">
            <option value="assets/coats/coat-1.png">Coat 1 (default)</option>
            <option value="assets/coats/coat-2.png">Coat 2</option>
            <option value="assets/coats/coat-3.png">Coat 3</option>
			
			<p class="hint">
             Coat overlays will appear here once current designs are photographed.
          </p>
          </select>

          <!-- Optional upload -->
          <div class="upload-optional">
            <p class="upload-title">Optional: visualize on your own dog</p>
            <input id="bgUpload" type="file" accept="image/*"/>
            <p class="upload-note">
              This preview helps with placement only. Final fit is refined during custom making.
            </p>
          </div>

          <!-- Custom note -->
          <div class="custom-note">
            <p>
              <strong>How custom works</strong><br>
              Each coat is made by hand with your dog in mind. Previews guide the design,
              but final fit, length, and details are adjusted during making to suit your dog’s
              body and movement. No two dogs are exactly alike — and their coats shouldn’t be either.
            </p>
          </div>

          <!-- Sliders (if they exist in your layout elsewhere keep them; otherwise add later) -->
          <label for="scale">Scale</label>
          <input id="scale" type="range" min="0.25" max="0.9" step="0.01" value="0.55"/>

          <label for="rotate">Rotate</label>
          <input id="rotate" type="range" min="-45" max="45" step="1" value="0"/>

          <label for="opacity">Opacity</label>
          <input id="opacity" type="range" min="0.2" max="1" step="0.01" value="0.95"/>

          <button class="btn" id="export" type="button">Export PNG</button>
        </div>
      </aside>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <small><strong>Clovis Coats</strong> — Southwest Dog Coats • Clovis, New Mexico</small>
      <small>© <span id="year"></span></small>
    </div>
  </footer>

  <script src="js/main.js"></script>
  
  <script>document.getElementById("year").textContent = new Date().getFullYear();</script>
</body>
</html>
